!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1);var o=n(3),i={type:Phaser.WEBGL,width:800,height:600,backgroundColor:"#2d2d2d",scene:o.Scene};new Phaser.Game(i)},function(t,e,n){t.exports=n(2)(1)},function(t,e){t.exports=vendor},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Scene=void 0;var r=n(4),s=function(t){function e(){return t.call(this,"mandalorianScene")||this}return i(e,t),e.prototype.preload=function(){r.Mandalorian.load(this)},e.prototype.create=function(){this.mandalorian=new r.Mandalorian(this),this.mandalorian.addToScene(this)},e.prototype.update=function(t,e){this.mandalorian.update(t,e)},e}(Phaser.Scene);e.Scene=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Mandalorian=void 0;var r=n(5),s=function(t){function e(e){var n=t.call(this,e,400,300,"mandalorian")||this;return n.mouseX=0,n.mouseY=0,n.speed=Phaser.Math.GetSpeed(100,1),n.setDepth(1),n.weapons=new r.MandalorianWeapons(e),e.input.on("pointerdown",(function(t){n.isAttack=!0})),e.input.on("pointerup",(function(){n.isAttack=!1})),e.input.on("pointermove",(function(t){n.mouseX=t.x,n.mouseY=t.y})),n.keyW=e.input.keyboard.addKey("W"),n.keyA=e.input.keyboard.addKey("A"),n.keyS=e.input.keyboard.addKey("S"),n.keyD=e.input.keyboard.addKey("D"),n}return i(e,t),e.load=function(t){t.load.image("mandalorian","assets/mandalorian.png"),r.MandalorianWeapons.load(t)},e.prototype.addToScene=function(t){t.add.existing(this),this.weapons.addToScene(t)},e.prototype.update=function(t,e){this.isAttack&&this.weapons.activate(t,this.x,this.y,this.mouseX,this.mouseY),this.x+=e*this.speed*(Number(this.keyD.isDown)-Number(this.keyA.isDown)),this.y+=e*this.speed*(Number(this.keyS.isDown)-Number(this.keyW.isDown)),this.setRotation(Phaser.Math.Angle.Between(this.mouseX,this.mouseY,this.x,this.y)-Math.PI/2)},e}(Phaser.GameObjects.Sprite);e.Mandalorian=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MandalorianWeapons=void 0;var o=n(6),i=function(){function t(t){this.lastRocketFired=0}return t.prototype.addToScene=function(t){this.rockets=t.add.group({classType:o.Rocket,maxSize:20,runChildUpdate:!0})},t.load=function(t){o.Rocket.load(t)},t.prototype.activate=function(t,e,n,o,i){if(t>this.lastRocketFired){var r=this.rockets.get();r&&(r.activate(e,n,o,i),this.lastRocketFired=t+600)}},t}();e.MandalorianWeapons=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rocket=void 0;var r=function(t){function e(e){var n=t.call(this,e,0,0,"rocket")||this;return n.displayHeight=7,n.displayWidth=15,n.incX=0,n.incY=0,n.lifespan=0,n.speed=Phaser.Math.GetSpeed(400,1),e.anims.create({key:"explode",frames:e.anims.generateFrameNames("boom"),hideOnComplete:!0}),n}return i(e,t),e.load=function(t){t.load.image({key:"rocket",url:"assets/rockets.png"}),t.load.spritesheet("boom","assets/explosion.png",{frameWidth:64,frameHeight:64,endFrame:23})},e.prototype.activate=function(t,e,n,o){this.setActive(!0),this.setVisible(!0),this.setPosition(t,e);var i=Phaser.Math.Angle.Between(n,o,t,e);this.setRotation(i),this.incX=Math.cos(i),this.incY=Math.sin(i),this.lifespan=600},e.prototype.update=function(t,e){this.lifespan-=e,this.x-=this.incX*(this.speed*e),this.y-=this.incY*(this.speed*e),this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1),console.log(this),this.scene.add.sprite(this.x,this.y,"boom").play("explode"),this.destroy())},e}(Phaser.GameObjects.Image);e.Rocket=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWUudHMiLCJ3ZWJwYWNrOi8vL2RlbGVnYXRlZCAuL25vZGVfbW9kdWxlcy9waGFzZXIvZGlzdC9waGFzZXIuanMgZnJvbSBkbGwtcmVmZXJlbmNlIHZlbmRvciIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ2ZW5kb3JcIiIsIndlYnBhY2s6Ly8vLi9zcmMvU2NlbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hbmRhbG9yaWFuLnRzIiwid2VicGFjazovLy8uL3NyYy9NYW5kYWxvcmlhbldlYXBvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1JvY2tldC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbmZpZyIsInR5cGUiLCJQaGFzZXIiLCJXRUJHTCIsIndpZHRoIiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwic2NlbmUiLCJTY2VuZSIsIkdhbWUiLCJ2ZW5kb3IiLCJwcmVsb2FkIiwiTWFuZGFsb3JpYW4iLCJsb2FkIiwidGhpcyIsIm1hbmRhbG9yaWFuIiwiYWRkVG9TY2VuZSIsInVwZGF0ZSIsInRpbWUiLCJkZWx0YSIsIm1vdXNlWCIsIm1vdXNlWSIsInNwZWVkIiwiTWF0aCIsIkdldFNwZWVkIiwic2V0RGVwdGgiLCJ3ZWFwb25zIiwiTWFuZGFsb3JpYW5XZWFwb25zIiwiaW5wdXQiLCJvbiIsInBvaW50ZXIiLCJpc0F0dGFjayIsIngiLCJ5Iiwia2V5VyIsImtleWJvYXJkIiwiYWRkS2V5Iiwia2V5QSIsImtleVMiLCJrZXlEIiwiaW1hZ2UiLCJhZGQiLCJleGlzdGluZyIsImFjdGl2YXRlIiwiTnVtYmVyIiwiaXNEb3duIiwic2V0Um90YXRpb24iLCJBbmdsZSIsIkJldHdlZW4iLCJQSSIsIkdhbWVPYmplY3RzIiwiU3ByaXRlIiwibGFzdFJvY2tldEZpcmVkIiwicm9ja2V0cyIsImdyb3VwIiwiY2xhc3NUeXBlIiwiUm9ja2V0IiwibWF4U2l6ZSIsInJ1bkNoaWxkVXBkYXRlIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyb2NrZXQiLCJkaXNwbGF5SGVpZ2h0IiwiZGlzcGxheVdpZHRoIiwiaW5jWCIsImluY1kiLCJsaWZlc3BhbiIsImFuaW1zIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU5hbWVzIiwiaGlkZU9uQ29tcGxldGUiLCJ1cmwiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsImVuZEZyYW1lIiwic2V0QWN0aXZlIiwic2V0VmlzaWJsZSIsInNldFBvc2l0aW9uIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJjb25zb2xlIiwibG9nIiwic3ByaXRlIiwicGxheSIsImRlc3Ryb3kiLCJJbWFnZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixF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QyxZQUFZbUMsR0FFakJuRSxLQUFLb0QsS0FBTzNDLEtBQUsyRCxJQUFJRCxHQUNyQm5FLEtBQUtxRCxLQUFPNUMsS0FBSzRELElBQUlGLEdBRXJCbkUsS0FBS3NELFNBQVcsS0FHcEIsWUFBQW5ELE9BQUEsU0FBT0MsRUFBY0MsR0FDakJMLEtBQUtzRCxVQUFZakQsRUFFakJMLEtBQUtrQixHQUFLbEIsS0FBS29ELE1BQVFwRCxLQUFLUSxNQUFRSCxHQUNwQ0wsS0FBS21CLEdBQUtuQixLQUFLcUQsTUFBUXJELEtBQUtRLE1BQVFILEdBRWhDTCxLQUFLc0QsVUFBWSxJQUNqQnRELEtBQUtnRSxXQUFVLEdBQ2ZoRSxLQUFLaUUsWUFBVyxHQUdoQkssUUFBUUMsSUFBSXZFLE1BQ1pBLEtBQUtQLE1BQU1rQyxJQUFJNkMsT0FBT3hFLEtBQUtrQixFQUFHbEIsS0FBS21CLEVBQUcsUUFBUXNELEtBQUssV0FDbkR6RSxLQUFLMEUsWUFHakIsRUFqRUEsQ0FBNEJ0RixPQUFPZ0QsWUFBWXVDLE9BQWxDLEVBQUFqQyIsImZpbGUiOiJnYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCAncGhhc2VyJztcclxuaW1wb3J0IHtTY2VuZX0gZnJvbSAnLi9TY2VuZSc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuV0VCR0wsXHJcbiAgICB3aWR0aDogODAwLFxyXG4gICAgaGVpZ2h0OiA2MDAsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMmQyZDJkJyxcclxuICAgIHNjZW5lOiBTY2VuZVxyXG59O1xyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSgxKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHZlbmRvcjsiLCJpbXBvcnQgeyB0aW1lU3RhbXAgfSBmcm9tICdjb25zb2xlJztcclxuaW1wb3J0IHtSb2NrZXR9IGZyb20gJy4vUm9ja2V0JztcclxuaW1wb3J0IHsgTWFuZGFsb3JpYW4gfSBmcm9tICcuL01hbmRhbG9yaWFuJztcclxuaW1wb3J0IHsgTWFuZGFsb3JpYW5XZWFwb25zIH0gZnJvbSAnLi9NYW5kYWxvcmlhbldlYXBvbnMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lICB7XHJcbiAgICBtYW5kYWxvcmlhbjogTWFuZGFsb3JpYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ21hbmRhbG9yaWFuU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIE1hbmRhbG9yaWFuLmxvYWQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMubWFuZGFsb3JpYW4gPSBuZXcgTWFuZGFsb3JpYW4odGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubWFuZGFsb3JpYW4uYWRkVG9TY2VuZSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUodGltZTogbnVtYmVyLCBkZWx0YTogbnVtYmVyKSB7ICAgICAgICBcclxuICAgICAgICB0aGlzLm1hbmRhbG9yaWFuLnVwZGF0ZSh0aW1lLCBkZWx0YSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lT2JqZWN0cyB9IGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgTWFuZGFsb3JpYW5XZWFwb25zIH0gZnJvbSBcIi4vTWFuZGFsb3JpYW5XZWFwb25zXCI7XHJcbmltcG9ydCB7IFNjZW5lIH0gZnJvbSBcIi4vU2NlbmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYW5kYWxvcmlhbiBleHRlbmRzIFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUge1xyXG4gICAgd2VhcG9uczogTWFuZGFsb3JpYW5XZWFwb25zO1xyXG5cclxuICAgIGlzQXR0YWNrOiBib29sZWFuOyAgICBcclxuXHJcbiAgICBtb3VzZVggPSAwO1xyXG4gICAgbW91c2VZID0gMDtcclxuICAgIFxyXG4gICAga2V5VzogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIGtleUE6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBrZXlTOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAga2V5RDogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuXHJcbiAgICBzcGVlZCA9IFBoYXNlci5NYXRoLkdldFNwZWVkKDEwMCwgMSk7ICAgIFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBTY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCA0MDAsIDMwMCwgJ21hbmRhbG9yaWFuJyk7XHJcbiAgICAgICAgdGhpcy5zZXREZXB0aCgxKTtcclxuXHJcbiAgICAgICAgdGhpcy53ZWFwb25zID0gbmV3IE1hbmRhbG9yaWFuV2VhcG9ucyhzY2VuZSk7ICAgICAgICBcclxuXHJcbiAgICAgICAgc2NlbmUuaW5wdXQub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmlzQXR0YWNrID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2NlbmUuaW5wdXQub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pc0F0dGFjayA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzY2VuZS5pbnB1dC5vbigncG9pbnRlcm1vdmUnLCAocG9pbnRlcjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VYID0gcG9pbnRlci54O1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlWSA9IHBvaW50ZXIueTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5tb3VzZVgsIHRoaXMubW91c2VZKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5rZXlXID0gc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdXJyk7XHJcbiAgICAgICAgdGhpcy5rZXlBID0gc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdBJyk7XHJcbiAgICAgICAgdGhpcy5rZXlTID0gc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTJyk7XHJcbiAgICAgICAgdGhpcy5rZXlEID0gc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdEJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsb2FkKHNjZW5lOiBTY2VuZSkge1xyXG4gICAgICAgIHNjZW5lLmxvYWQuaW1hZ2UoJ21hbmRhbG9yaWFuJywgJ2Fzc2V0cy9tYW5kYWxvcmlhbi5wbmcnKTtcclxuICAgICAgICBNYW5kYWxvcmlhbldlYXBvbnMubG9hZChzY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFRvU2NlbmUoc2NlbmU6IFNjZW5lKSB7XHJcbiAgICAgICAgc2NlbmUuYWRkLmV4aXN0aW5nKHRoaXMpO1xyXG4gICAgICAgIHRoaXMud2VhcG9ucy5hZGRUb1NjZW5lKHNjZW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKHRpbWU6IG51bWJlciwgZGVsdGE6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9ucy5hY3RpdmF0ZSh0aW1lLCB0aGlzLngsIHRoaXMueSwgdGhpcy5tb3VzZVgsIHRoaXMubW91c2VZKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueCArPSBkZWx0YSAqIHRoaXMuc3BlZWQgKiAoTnVtYmVyKHRoaXMua2V5RC5pc0Rvd24pIC0gTnVtYmVyKHRoaXMua2V5QS5pc0Rvd24pKTtcclxuICAgICAgICB0aGlzLnkgKz0gZGVsdGEgKiB0aGlzLnNwZWVkICogKE51bWJlcih0aGlzLmtleVMuaXNEb3duKSAtIE51bWJlcih0aGlzLmtleVcuaXNEb3duKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Um90YXRpb24oUGhhc2VyLk1hdGguQW5nbGUuQmV0d2Vlbih0aGlzLm1vdXNlWCwgdGhpcy5tb3VzZVksIHRoaXMueCwgdGhpcy55KSAtIE1hdGguUEkgLyAyKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJvY2tldCB9IGZyb20gXCIuL1JvY2tldFwiO1xyXG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gXCIuL1NjZW5lXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFuZGFsb3JpYW5XZWFwb25zIHtcclxuICAgIGxhc3RSb2NrZXRGaXJlZCA9IDA7XHJcbiAgICByb2NrZXRzOiBQaGFzZXIuR2FtZU9iamVjdHMuR3JvdXA7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFNjZW5lKSB7XHJcbiAgICAgICAgLy9cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVG9TY2VuZShzY2VuZSkge1xyXG4gICAgICAgIHRoaXMucm9ja2V0cyA9IHNjZW5lLmFkZC5ncm91cCh7XHJcbiAgICAgICAgICAgIGNsYXNzVHlwZTogUm9ja2V0LFxyXG4gICAgICAgICAgICBtYXhTaXplOiAyMCxcclxuICAgICAgICAgICAgcnVuQ2hpbGRVcGRhdGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWQoc2NlbmU6IFNjZW5lKSB7ICAgICAgICBcclxuICAgICAgICBSb2NrZXQubG9hZChzY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFjdGl2YXRlKHRpbWU6IG51bWJlciwgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aW1lID4gdGhpcy5sYXN0Um9ja2V0RmlyZWQpIHtcclxuICAgICAgICAgICAgdmFyIHJvY2tldCA9IHRoaXMucm9ja2V0cy5nZXQoKSBhcyBSb2NrZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAocm9ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICByb2NrZXQuYWN0aXZhdGUoeDEsIHkxLCB4MiwgeTIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJvY2tldEZpcmVkID0gdGltZSArIDYwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcbn0iLCJpbXBvcnQgeyBTY2VuZSB9IGZyb20gXCIuL1NjZW5lXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUm9ja2V0IGV4dGVuZHMgUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlIHtcclxuICAgIGluY1g6IG51bWJlcjtcclxuICAgIGluY1k6IG51bWJlcjtcclxuICAgIGxpZmVzcGFuOiBudW1iZXI7XHJcbiAgICBzcGVlZDogbnVtYmVyO1xyXG4gICAgYm9vbVNwcml0ZTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogU2NlbmUpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgMCwgMCwgJ3JvY2tldCcpO1xyXG5cclxuICAgICAgICB0aGlzLmRpc3BsYXlIZWlnaHQgPSA3O1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVdpZHRoID0gMTU7XHJcbiAgICAgICAgdGhpcy5pbmNYID0gMDtcclxuICAgICAgICB0aGlzLmluY1kgPSAwO1xyXG4gICAgICAgIHRoaXMubGlmZXNwYW4gPSAwO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSBQaGFzZXIuTWF0aC5HZXRTcGVlZCg0MDAsIDEpO1xyXG5cclxuICAgICAgICBzY2VuZS5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdleHBsb2RlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBzY2VuZS5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoJ2Jvb20nKSxcclxuICAgICAgICAgICAgaGlkZU9uQ29tcGxldGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbG9hZChzY2VuZTogU2NlbmUpIHtcclxuICAgICAgICBzY2VuZS5sb2FkLmltYWdlKHtcclxuICAgICAgICAgICAga2V5OiAncm9ja2V0JyxcclxuICAgICAgICAgICAgdXJsOiAnYXNzZXRzL3JvY2tldHMucG5nJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2NlbmUubG9hZC5zcHJpdGVzaGVldCgnYm9vbScsICdhc3NldHMvZXhwbG9zaW9uLnBuZycsIHsgZnJhbWVXaWR0aDogNjQsIGZyYW1lSGVpZ2h0OiA2NCwgZW5kRnJhbWU6IDIzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFjdGl2YXRlKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24oeDEsIHkxKTtcclxuXHJcbiAgICAgICAgdmFyIGFuZ2xlID0gUGhhc2VyLk1hdGguQW5nbGUuQmV0d2Vlbih4MiwgeTIsIHgxLCB5MSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Um90YXRpb24oYW5nbGUpO1xyXG5cclxuICAgICAgICB0aGlzLmluY1ggPSBNYXRoLmNvcyhhbmdsZSk7XHJcbiAgICAgICAgdGhpcy5pbmNZID0gTWF0aC5zaW4oYW5nbGUpO1xyXG5cclxuICAgICAgICB0aGlzLmxpZmVzcGFuID0gNjAwO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmxpZmVzcGFuIC09IGRlbHRhO1xyXG5cclxuICAgICAgICB0aGlzLnggLT0gdGhpcy5pbmNYICogKHRoaXMuc3BlZWQgKiBkZWx0YSk7XHJcbiAgICAgICAgdGhpcy55IC09IHRoaXMuaW5jWSAqICh0aGlzLnNwZWVkICogZGVsdGEpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5saWZlc3BhbiA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzKVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZC5zcHJpdGUodGhpcy54LCB0aGlzLnksICdib29tJykucGxheSgnZXhwbG9kZScpO1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==